.PHONY: help build test demo

help: ## Show help
	@grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | awk 'BEGIN {FS = ":.*?## "}; {printf "%-15s %s\n", $$1, $$2}'

build: ## Build the processor
	@echo "ðŸ”¨ Building..."
	@go mod tidy
	@mkdir -p bin
	@go build -o bin/mdb_processor ./cmd/mdb_processor.go
	@echo "âœ… Build complete"

test: build ## Run test
	@echo "ðŸ§ª Testing..."
	@mkdir -p output
	@./bin/mdb_processor -file test/fixtures/basic_test.csv -company "Test" -output output -verbose
	@echo "âœ… Test complete"

demo: test ## Run demo
	@echo "ðŸŽ¯ Demo complete! Check output/ directory"

clean: ## Clean artifacts
	@rm -rf bin output
